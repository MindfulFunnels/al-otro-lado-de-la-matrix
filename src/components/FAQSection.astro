---
interface Props {
  title: string;
  description: string;
  faqs: {
    question: string;
    answer: string;
  }[];
}

const { title, description, faqs } = Astro.props;
---

<section class='relative py-24 overflow-hidden'>
  <!-- Fondo con gradiente -->
  <div class='absolute inset-0'>
    <div class='section-gradient'></div>
    <div
      class='absolute inset-0 bg-gradient-to-br from-oxford-blue-3/50 via-oxford-blue-2/70 to-oxford-blue/90'
    >
      <div
        class='absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-true-blue/10 via-transparent to-transparent'
      >
      </div>
    </div>
  </div>

  <!-- SuperposiciÃ³n para suavizar transiciones -->
  <div class='section-overlay'></div>
  <div class='section-transition-top'></div>
  <div class='section-transition-bottom'></div>

  <!-- Formas flotantes -->
  <div class='floating-shape top-1/4 left-1/4 animate-pulse opacity-30'></div>
  <div
    class='floating-shape bottom-1/4 right-1/4 animate-pulse delay-300 opacity-30'
  >
  </div>

  <div class='container relative z-10'>
    <div class='content-container text-center'>
      <h2 class='font-bold text-white mb-10 drop-shadow-lg gradient-text'>
        {title}
      </h2>
      <div class='decorative-line mb-16'>
        <p class='text-cool-gray drop-shadow-md subtitle'>
          {description}
        </p>
      </div>
      <div class='content-container space-y-4'>
        {
          faqs.map((faq) => (
            <div class='faq-item'>
              <button
                class='w-full text-left p-6 bg-oxford-blue/50 rounded-lg hover:bg-oxford-blue/70 transition-colors duration-300 flex items-center justify-between group'
                onclick="this.parentElement.classList.toggle('active')"
              >
                <span class='text-lg font-medium text-white group-hover:text-true-blue transition-colors duration-300'>
                  {faq.question}
                </span>
                <svg
                  class='w-6 h-6 text-true-blue transform transition-transform duration-300 group-hover:rotate-180'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                >
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M19 9l-7 7-7-7'
                  />
                </svg>
              </button>
              <div class='faq-answer overflow-hidden transition-all duration-300 max-h-0'>
                <div class='p-6 bg-oxford-blue/30 rounded-b-lg'>
                  <p class='text-lg text-cool-gray'>{faq.answer}</p>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>

<style>
  .faq-item.active .faq-answer {
    max-height: 500px;
  }
  .faq-item.active button svg {
    transform: rotate(180deg);
  }
</style>
